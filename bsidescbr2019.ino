#include <SPI.h>
#include <Adafruit_GFX.h>
#include <Adafruit_PCD8544.h>

#include <Adafruit_SPITFT_Macros.h>
#include <gfxfont.h>
#include <Adafruit_SPITFT.h>

// Hardware SPI (faster, but must use certain hardware pins):
// SCK is LCD serial clock (SCLK) - this is pin 13 on Arduino Uno
// MOSI is LCD DIN - this is pin 11 on an Arduino Uno
// pin 7 - Data/Command select (D/C)
// pin 6 - LCD chip select (CS)
// pin 5 - LCD reset (RST)
Adafruit_PCD8544 display = Adafruit_PCD8544(7, 6, 5);
// Note with hardware SPI MISO and SS pins aren't used but will still be read
// and written to during SPI transfer.  Be careful sharing these pins!

#define NUMFLAKES 10
#define XPOS 0
#define YPOS 1
#define DELTAY 2


#define LOGO16_GLCD_HEIGHT 16
#define LOGO16_GLCD_WIDTH  16

static const unsigned char PROGMEM silvio[] = {
  // 'silvio, 84x48px
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xf8, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x01, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xff, 0xff, 0xe0, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xf8, 0x3f, 0xf0, 0x00, 0xf8, 0x18, 0x00, 0x00, 
  0x00, 0x00, 0x0f, 0xc0, 0x00, 0xf8, 0x00, 0x8c, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x80, 0x00, 
  0x7c, 0x00, 0x86, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x3e, 0x00, 0x82, 0x24, 0x00, 
  0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x1e, 0x00, 0x82, 0x66, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x00, 
  0x00, 0x0e, 0x00, 0x82, 0x66, 0x00, 0x00, 0x00, 0x00, 0x38, 0x00, 0x00, 0x0f, 0x00, 0x86, 0x7e, 
  0x00, 0x00, 0x00, 0x00, 0x38, 0x00, 0x00, 0x0f, 0x00, 0x8c, 0xc3, 0x00, 0x00, 0x00, 0x00, 0x38, 
  0x00, 0x00, 0x07, 0x00, 0xf8, 0xc3, 0x00, 0x00, 0x00, 0x00, 0x38, 0x00, 0x00, 0x07, 0x80, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0x00, 0x03, 0x83, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x78, 0x00, 0x1f, 0xc3, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0x00, 0x7c, 0x63, 0x80, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x00, 0x70, 0x7b, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x73, 0xf0, 0xff, 0xff, 0xf0, 0x7c, 0x9f, 0xe0, 0x7c, 0x0f, 0x00, 0x7f, 0xf0, 0xff, 0xc9, 
  0x70, 0xcc, 0x01, 0xa0, 0x44, 0x19, 0x80, 0x78, 0x3f, 0xd7, 0xc8, 0xf0, 0x80, 0x81, 0x30, 0xc4, 
  0x19, 0x80, 0x3f, 0xff, 0xc0, 0x08, 0xf0, 0xc0, 0x83, 0x10, 0x84, 0x10, 0x80, 0x7b, 0x94, 0xe0, 
  0x09, 0xf0, 0x78, 0x82, 0x19, 0x84, 0x10, 0x80, 0x78, 0x0c, 0x60, 0x18, 0xf0, 0x0c, 0x86, 0x09, 
  0x04, 0x10, 0x80, 0x7c, 0x04, 0x73, 0xf0, 0xe0, 0x04, 0x86, 0x0f, 0x04, 0x19, 0x80, 0x78, 0x08, 
  0x7f, 0xc0, 0xe0, 0xcc, 0x8c, 0x0f, 0x04, 0x19, 0x80, 0x7c, 0x18, 0x30, 0x00, 0xe0, 0xf8, 0x8c, 
  0x06, 0x1f, 0x0f, 0x00, 0x3f, 0xf0, 0x0c, 0x05, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 
  0x30, 0x3e, 0x0f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0c, 0x6c, 0xf9, 0x0f, 0x80, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x0c, 0x47, 0xf1, 0x9b, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x0c, 0xc0, 0xc0, 0x49, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0e, 0xc0, 0x01, 0xc9, 0x80, 
  0xfe, 0x3c, 0x00, 0x7c, 0x00, 0x00, 0x0f, 0xc0, 0x7f, 0x0b, 0x80, 0x06, 0x66, 0x00, 0x66, 0x00, 
  0x00, 0x0f, 0x7f, 0xc6, 0x0f, 0x00, 0x0c, 0x66, 0x7c, 0x02, 0x00, 0x00, 0x07, 0x1c, 0x0c, 0x1f, 
  0x00, 0x18, 0x42, 0x66, 0x06, 0x00, 0x00, 0x07, 0x8e, 0x10, 0x1e, 0x00, 0x10, 0x42, 0x42, 0x1c, 
  0x00, 0x00, 0x03, 0x8f, 0x20, 0x3c, 0x00, 0x20, 0x42, 0x42, 0x06, 0x00, 0x00, 0x01, 0xc4, 0x1e, 
  0x78, 0x00, 0x60, 0x66, 0x42, 0x02, 0x00, 0x00, 0x00, 0xe7, 0xfc, 0xf0, 0x00, 0xc0, 0x66, 0x42, 
  0x46, 0x00, 0x00, 0x00, 0x73, 0xf8, 0xe0, 0x00, 0xfe, 0x3c, 0x42, 0x7c, 0x00, 0x00, 0x00, 0x38, 
  0x01, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1c, 0x0b, 0x80, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x9f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x03, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xf8, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
void setup() {
  // put your setup code here, to run once:
  //Serial.begin(9600);

  display.begin();
  // init done

  // you can change the contrast around to adapt the display
  // for the best viewing!
  display.setContrast(50);

  //display.display(); // show splashscreen
  //delay(100);
  display.clearDisplay();   // clears the screen and buffer
  display.drawBitmap(0,0,silvio, 84,48, 1);
  display.display();
  pinMode(8,OUTPUT);
}

void loop() {
  // put your main code here, to run repeatedly:
  digitalWrite(8, HIGH);
  delay(500);
  digitalWrite(8, LOW);
  delay(500);
}
